<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <%- include('../partials/head', { 
        title: 'è³£å®¶ä¸­å¿ƒ - Zipperoo', 
        description: 'ç®¡ç†æ‚¨çš„å•†å“ã€è¨‚å–®å’ŒéŠ·å”®æ•¸æ“š'
    }) %>
    <link rel="stylesheet" href="/css/pages/seller-dashboard.css">
</head>
<body>
    <%- include('../partials/navbar', { user: locals.user }) %>
    
    <main class="seller-dashboard-main">
        <div class="container">
            <!-- é é¢æ¨™é¡Œ -->
            <div class="dashboard-header">
                <div class="breadcrumb">
                    <a href="/">é¦–é </a>
                    <span>/</span>
                    <span>è³£å®¶ä¸­å¿ƒ</span>
                </div>
                <div class="header-content">
                    <h1>è³£å®¶ä¸­å¿ƒ</h1>
                    <p class="subtitle">ç®¡ç†æ‚¨çš„å•†å“å’Œè¨‚å–®</p>
                </div>
            </div>

            <!-- çµ±è¨ˆå¡ç‰‡ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon products">
                        <i class="bi bi-box"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="total-products">-</div>
                        <div class="stat-label">å•†å“ç¸½æ•¸</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon orders">
                        <i class="bi bi-receipt"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="total-orders">-</div>
                        <div class="stat-label">è¨‚å–®ç¸½æ•¸</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon revenue">
                        <i class="bi bi-currency-dollar"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="total-revenue">-</div>
                        <div class="stat-label">ç¸½æ”¶å…¥</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon pending">
                        <i class="bi bi-clock"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="pending-orders">-</div>
                        <div class="stat-label">å¾…è™•ç†è¨‚å–®</div>
                    </div>
                </div>
            </div>

            <!-- å¿«æ·æ“ä½œ -->
            <div class="quick-actions">
                <h2>å¿«æ·æ“ä½œ</h2>
                <div class="actions-grid">
                    <a href="/seller/products" class="action-card">
                        <div class="action-icon">
                            <i class="bi bi-plus-circle"></i>
                        </div>
                        <h3>ç®¡ç†å•†å“</h3>
                        <p>æ–°å¢ã€ç·¨è¼¯æˆ–åˆªé™¤æ‚¨çš„å•†å“</p>
                    </a>
                    
                    <a href="/seller/orders" class="action-card">
                        <div class="action-icon">
                            <i class="bi bi-list-check"></i>
                        </div>
                        <h3>è™•ç†è¨‚å–®</h3>
                        <p>æŸ¥çœ‹å’Œè™•ç†å®¢æˆ¶è¨‚å–®</p>
                    </a>
                    
                    <a href="/seller/analytics" class="action-card">
                        <div class="action-icon">
                            <i class="bi bi-graph-up"></i>
                        </div>
                        <h3>éŠ·å”®åˆ†æ</h3>
                        <p>æŸ¥çœ‹éŠ·å”®çµ±è¨ˆå’Œè¶¨å‹¢</p>
                    </a>
                    
                    <a href="/seller/settings" class="action-card">
                        <div class="action-icon">
                            <i class="bi bi-gear"></i>
                        </div>
                        <h3>å¸³æˆ¶è¨­å®š</h3>
                        <p>ç®¡ç†æ‚¨çš„è³£å®¶è³‡è¨Š</p>
                    </a>
                </div>
            </div>

            <!-- æœ€è¿‘è¨‚å–® -->
            <div class="recent-section">
                <div class="section-header">
                    <h2>æœ€è¿‘è¨‚å–®</h2>
                    <a href="/seller/orders" class="view-all-link">æŸ¥çœ‹å…¨éƒ¨</a>
                </div>
                <div class="orders-table-container">
                    <div class="loading-container" id="orders-loading">
                        <div class="loading-spinner"></div>
                        <p>è¼‰å…¥è¨‚å–®ä¸­...</p>
                    </div>
                    
                    <table class="orders-table" id="orders-table" style="display: none;">
                        <thead>
                            <tr>
                                <th>è¨‚å–®ç·¨è™Ÿ</th>
                                <th>å®¢æˆ¶</th>
                                <th>å•†å“</th>
                                <th>é‡‘é¡</th>
                                <th>ç‹€æ…‹</th>
                                <th>ä¸‹å–®æ™‚é–“</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody id="orders-tbody">
                            <!-- è¨‚å–®æ•¸æ“šå°‡ç”±JavaScriptå¡«å…… -->
                        </tbody>
                    </table>
                    
                    <div class="empty-state" id="orders-empty" style="display: none;">
                        <div class="empty-icon">ğŸ“‹</div>
                        <h3>æš«ç„¡è¨‚å–®</h3>
                        <p>é‚„æ²’æœ‰å®¢æˆ¶ä¸‹å–®ï¼Œç¹¼çºŒæ¨å»£æ‚¨çš„å•†å“å§ï¼</p>
                    </div>
                </div>
            </div>

            <!-- ç†±é–€å•†å“ -->
            <div class="recent-section">
                <div class="section-header">
                    <h2>ç†±é–€å•†å“</h2>
                    <a href="/seller/products" class="view-all-link">æŸ¥çœ‹å…¨éƒ¨</a>
                </div>
                <div class="products-grid" id="popular-products">
                    <div class="loading-container">
                        <div class="loading-spinner"></div>
                        <p>è¼‰å…¥å•†å“ä¸­...</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <%- include('../partials/footer') %>
    <%- include('../partials/scripts') %>
    <script>
        // ç­‰å¾… App åˆå§‹åŒ–å®Œæˆå¾Œå†è¼‰å…¥ seller-dashboard
        window.addEventListener('appInitialized', function() {
            const script = document.createElement('script');
            script.src = '/js/pages/seller-dashboard.js';
            document.head.appendChild(script);
        });
        
        // å¦‚æœ App å·²ç¶“åˆå§‹åŒ–ï¼Œç›´æ¥è¼‰å…¥
        if (window.App && window.App.initialized) {
            const script = document.createElement('script');
            script.src = '/js/pages/seller-dashboard.js';
            document.head.appendChild(script);
        }
    </script>
</body>
</html> 