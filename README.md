# Zipperoo é›»å•†å¹³å°å¾Œç«¯ç³»çµ±

Zipperoo æ˜¯ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„é›»å•†å¹³å°å¾Œç«¯ç³»çµ±ï¼Œæ¡ç”¨ç¾ä»£åŒ–çš„ NestJS + PostgreSQL + Prisma æŠ€è¡“æ£§ï¼Œæ”¯æ´è²·å®¶ã€è³£å®¶ã€ç®¡ç†å“¡ä¸‰ç¨®è§’è‰²çš„é›»å•†ç”Ÿæ…‹ç³»çµ±ï¼Œå…·å‚™å•†å“è®Šé«”ç®¡ç†ã€å³æ™‚èŠå¤©ã€è©•åƒ¹ç³»çµ±ç­‰ä¼æ¥­ç´šåŠŸèƒ½ã€‚

## ğŸŒŸ ç”¢å“é¡˜æ™¯

å»ºç«‹ä¸€å€‹ç©©å®šã€å¯æ“´å±•çš„é›»å•†å¹³å°ï¼Œç‚ºä¸åŒè§’è‰²æä¾›æœ€ä½³çš„ä½¿ç”¨é«”é©—ï¼š
- **ğŸ’° è³£å®¶** - è¼•é¬†ç®¡ç†å•†å“ã€è™•ç†è¨‚å–®ã€èˆ‡å®¢æˆ¶æºé€š
- **ğŸ›’ è²·å®¶** - æµæš¢çš„è³¼ç‰©é«”é©—ã€å®‰å…¨çš„æ”¯ä»˜æµç¨‹ã€å³æ™‚å®¢æœ
- **ğŸ”§ ç®¡ç†å“¡** - å…¨é¢çš„ç³»çµ±ç›£æ§ã€ç”¨æˆ¶ç®¡ç†ã€æ•¸æ“šåˆ†æ

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½ç‰¹è‰²

### ğŸ‘¥ å¤šè§’è‰²æ¬Šé™ç³»çµ±
- **Buyerï¼ˆè²·å®¶ï¼‰**: å•†å“ç€è¦½ã€æœå°‹ç¯©é¸ã€è³¼ç‰©è»Šç®¡ç†ã€è¨‚å–®è¿½è¹¤ã€å•†å“è©•åƒ¹ã€å³æ™‚èŠå¤©
- **Sellerï¼ˆè³£å®¶ï¼‰**: å•†å“èˆ‡è®Šé«”ç®¡ç†ã€è¨‚å–®è™•ç†ã€å®¢æœèŠå¤©ã€éŠ·å”®æ•¸æ“šã€åœ–ç‰‡ä¸Šå‚³
- **Adminï¼ˆç®¡ç†å“¡ï¼‰**: ç”¨æˆ¶ç®¡ç†ã€å•†å“å¯©æ ¸ã€ç³»çµ±ç›£æ§ã€æ—¥èªŒè¿½è¹¤ã€æ¬Šé™æ§åˆ¶

### ğŸ›ï¸ é€²éšå•†å“ç³»çµ±
- **å•†å“è®Šé«”ç®¡ç†**: æ”¯æ´é¡è‰²ã€å°ºå¯¸ç­‰å¤šå±¬æ€§çµ„åˆ
- **æ™ºèƒ½åˆ†é¡ç³»çµ±**: å±¤ç´šå¼å•†å“åˆ†é¡ç®¡ç†
- **åœ–ç‰‡ç®¡ç†**: å¤šåœ–ç‰‡ä¸Šå‚³ã€å£“ç¸®ã€CDN åˆ†ç™¼
- **åº«å­˜æ§åˆ¶**: å¯¦æ™‚åº«å­˜åŒæ­¥ã€è¶…è³£é˜²è­·
- **æœå°‹èˆ‡ç¯©é¸**: å…¨æ–‡æœå°‹ã€åƒ¹æ ¼å€é–“ã€åˆ†é¡ç¯©é¸

### ğŸ’³ å®Œæ•´äº¤æ˜“æµç¨‹
- **æ™ºèƒ½è³¼ç‰©è»Š**: å•†å“é¸æ“‡ã€æ•¸é‡èª¿æ•´ã€åƒ¹æ ¼è¨ˆç®—
- **å®‰å…¨çµå¸³**: åº«å­˜é–å®šã€äº‹å‹™è™•ç†ã€ç‹€æ…‹ç®¡ç†
- **è¨‚å–®è¿½è¹¤**: å®Œæ•´çš„è¨‚å–®ç”Ÿå‘½é€±æœŸç®¡ç†
- **è©•åƒ¹ç³»çµ±**: å•†å“è©•åˆ†ã€è©•è«–ç®¡ç†ã€ä¿¡è­½å»ºç«‹

### ğŸ’¬ å³æ™‚é€šè¨Šç³»çµ±
- **WebSocket èŠå¤©**: è²·è³£å®¶å³æ™‚æºé€š
- **èŠå¤©å®¤ç®¡ç†**: è‡ªå‹•å»ºç«‹ã€è¨Šæ¯æ­·å²ã€ç‹€æ…‹åŒæ­¥
- **å®¢æœæ”¯æ´**: å¤šå°è©±ç®¡ç†ã€è¨Šæ¯æ¨é€

### ğŸ” ä¼æ¥­ç´šå®‰å…¨
- **JWT èªè­‰**: ç„¡ç‹€æ…‹èªè­‰ã€Token åˆ·æ–°
- **è§’è‰²æ¬Šé™**: ç´°ç²’åº¦æ¬Šé™æ§åˆ¶ã€API ä¿è­·
- **å¯†ç¢¼å®‰å…¨**: bcrypt åŠ å¯†ã€é‡è¨­æµç¨‹
- **æ•¸æ“šé©—è­‰**: DTO é©—è­‰ã€é¡å‹å®‰å…¨

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### ğŸ¯ ä¸‰å±¤å¼æ¶æ§‹è¨­è¨ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ NestJS Controllers (RESTful API)                         â”‚
â”‚ â€¢ API æ¸¬è©¦ç•Œé¢ (api-tester.html)                            â”‚
â”‚ â€¢ WebSocket Gateway (å³æ™‚èŠå¤©)                              â”‚
â”‚ â€¢ Guards & Decorators (æ¬Šé™æ§åˆ¶)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Business Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Services (æ¥­å‹™é‚è¼¯)                                        â”‚
â”‚ â€¢ DTOs (æ•¸æ“šé©—è­‰)                                            â”‚
â”‚ â€¢ Domain Models (å¯¦é«”ç®¡ç†)                                   â”‚
â”‚ â€¢ Transaction Management (äº‹å‹™è™•ç†)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Data Layer                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Prisma ORM (é¡å‹å®‰å…¨)                                      â”‚
â”‚ â€¢ PostgreSQL (é—œè¯æ•¸æ“šåº«)                                    â”‚
â”‚ â€¢ Redis (å¿«å–ç³»çµ±)                                           â”‚
â”‚ â€¢ File System (åœ–ç‰‡å­˜å„²)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ’» æŠ€è¡“æ£§é¸å‹
| å±¤ç´š | æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|------|
| **é‹è¡Œç’°å¢ƒ** | Node.js | 18+ | JavaScript é‹è¡Œæ™‚ |
| **å¾Œç«¯æ¡†æ¶** | NestJS | 11.x | ä¼æ¥­ç´š Node.js æ¡†æ¶ |
| **æ•¸æ“šåº«** | PostgreSQL | 15+ | é—œè¯å‹æ•¸æ“šåº« |
| **ORM** | Prisma | 6.x | é¡å‹å®‰å…¨çš„æ•¸æ“šåº«å®¢æˆ¶ç«¯ |
| **èªè­‰** | JWT + Passport | - | ç„¡ç‹€æ…‹èº«ä»½é©—è­‰ |
| **å³æ™‚é€šè¨Š** | Socket.IO | 4.x | WebSocket å¯¦ç¾ |
| **å¿«å–** | Redis | 7+ | é«˜æ•ˆèƒ½å¿«å–ç³»çµ± |
| **å®¹å™¨åŒ–** | Docker | - | æ‡‰ç”¨ç¨‹å¼å®¹å™¨åŒ– |
| **åå‘ä»£ç†** | Nginx | - | è² è¼‰å‡è¡¡èˆ‡éœæ…‹è³‡æº |

### ğŸ—„ï¸ æ ¸å¿ƒæ•¸æ“šæ¨¡å‹
```mermaid
erDiagram
    User ||--o{ Product : sells
    User ||--|| Cart : owns
    User ||--o{ Order : places
    User ||--o{ Review : writes
    User ||--o{ ChatMessage : sends
    
    Product ||--o{ ProductVariant : contains
    Product ||--o{ ProductImage : has
    Product }o--|| Category : belongs
    
    Cart ||--o{ CartItem : contains
    CartItem }o--|| ProductVariant : references
    
    Order ||--o{ OrderItem : contains
    OrderItem }o--|| ProductVariant : references
    Order ||--|| Review : rated
    
    ChatRoom ||--o{ ChatMessage : contains
    User ||--o{ ChatRoom : participates
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
Zipperoo/
â”œâ”€â”€ backend/                    # å¾Œç«¯æ ¸å¿ƒæ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/              # ğŸ” èªè­‰æˆæ¬Šæ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/           # ç™»å…¥è¨»å†Š DTO
â”‚   â”‚   â”‚   â”œâ”€â”€ strategies/    # JWT/Local ç­–ç•¥
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ auth.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ buyer/             # ğŸ›’ è²·å®¶åŠŸèƒ½æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/   # è³¼ç‰©è»Šã€çµå¸³æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/      # è³¼ç‰©æ¥­å‹™é‚è¼¯
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/          # è³¼ç‰©ç›¸é—œ DTO
â”‚   â”‚   â”‚   â””â”€â”€ buyer.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ seller/            # ğŸª è³£å®¶åŠŸèƒ½æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/   # å•†å“ã€è¨‚å–®æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ services/      # å•†å“ç®¡ç†é‚è¼¯
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/          # å•†å“ç›¸é—œ DTO
â”‚   â”‚   â”‚   â””â”€â”€ seller.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ admin/             # âš™ï¸ ç®¡ç†å“¡æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ admin.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ admin.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ category/          # ğŸ“‚ å•†å“åˆ†é¡æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ category.controller.ts
â”‚   â”‚   â”‚   â””â”€â”€ category.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ variant/           # ğŸ¨ å•†å“è®Šé«”æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ variant.controller.ts
â”‚   â”‚   â”‚   â””â”€â”€ variant.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ review/            # â­ è©•åƒ¹ç³»çµ±æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ review.controller.ts
â”‚   â”‚   â”‚   â””â”€â”€ review.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ chat/              # ğŸ’¬ å³æ™‚èŠå¤©æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.gateway.ts   # WebSocket é–˜é“
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ chat.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ image/             # ğŸ–¼ï¸ åœ–ç‰‡ç®¡ç†æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ image.controller.ts
â”‚   â”‚   â”‚   â””â”€â”€ image.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ common/            # ğŸ”§ å…±ç”¨æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/   # å…¬å…±æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ decorators/    # è‡ªå®šç¾©è£é£¾å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ guards/        # æ¬Šé™å®ˆè¡›
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/          # å…±ç”¨ DTO
â”‚   â”‚   â”‚   â””â”€â”€ services/      # æ—¥èªŒç­‰å…±ç”¨æœå‹™
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ prisma/            # ğŸ—„ï¸ æ•¸æ“šåº«æ¨¡çµ„
â”‚   â”‚   â”‚   â”œâ”€â”€ prisma.service.ts
â”‚   â”‚   â”‚   â””â”€â”€ prisma.module.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ health/            # â¤ï¸ å¥åº·æª¢æŸ¥
â”‚   â”‚   â”œâ”€â”€ scripts/           # ğŸ“Š æ•¸æ“šå¡«å……è…³æœ¬
â”‚   â”‚   â””â”€â”€ main.ts            # ğŸš€ æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ prisma/                # ğŸ“‹ æ•¸æ“šåº«é…ç½®
â”‚   â”‚   â”œâ”€â”€ schema.prisma      # æ•¸æ“šæ¨¡å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ migrations/        # æ•¸æ“šåº«é·ç§»
â”‚   â”‚
â”‚   â”œâ”€â”€ public/                # ğŸŒ éœæ…‹è³‡æº
â”‚   â”‚   â”œâ”€â”€ api-tester.html    # API æ¸¬è©¦ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ api-tester-style.css
â”‚   â”‚   â””â”€â”€ api-tester-scripts.js
â”‚   â”‚
â”‚   â”œâ”€â”€ test/                  # ğŸ§ª æ¸¬è©¦æ–‡ä»¶
â”‚   â””â”€â”€ package.json           # ğŸ“¦ å°ˆæ¡ˆé…ç½®
â”‚
â”œâ”€â”€ SystemDesign/              # ğŸ“‹ ç³»çµ±è¨­è¨ˆæ–‡æª”
â”‚   â”œâ”€â”€ APIStructure.md        # API æ¥å£æ–‡æª”
â”‚   â”œâ”€â”€ requirement.txt        # éœ€æ±‚è¦æ ¼æ›¸
â”‚   â”œâ”€â”€ usecase.wsd           # ç”¨ä¾‹åœ–
â”‚   â””â”€â”€ api_endpoints_v1.csv   # API ç«¯é»åˆ—è¡¨
â”‚
â”œâ”€â”€ data/                      # ğŸ’¾ æŒä¹…åŒ–æ•¸æ“š
â”‚   â”œâ”€â”€ postgres/             # PostgreSQL æ•¸æ“šç›®éŒ„
â”‚   â”œâ”€â”€ redis/                # Redis æ•¸æ“šç›®éŒ„
â”‚   â””â”€â”€ uploads/              # ä¸Šå‚³æ–‡ä»¶å­˜å„²
â”‚
â”œâ”€â”€ docker-compose.yml         # ğŸ³ å®¹å™¨ç·¨æ’é…ç½®
â”œâ”€â”€ Dockerfile                # ğŸ³ å®¹å™¨æ§‹å»ºé…ç½®
â”œâ”€â”€ nginx.conf                # ğŸŒ Nginx é…ç½®
â””â”€â”€ *.bat                     # ğŸªŸ Windows å¿«é€Ÿå•Ÿå‹•è…³æœ¬
```

### ğŸ¯ æ¨¡çµ„è·è²¬åˆ†å·¥
- **ğŸ” Auth**: ç”¨æˆ¶èªè­‰ã€JWT ç®¡ç†ã€å¯†ç¢¼é‡è¨­
- **ğŸ›’ Buyer**: è³¼ç‰©è»Šç®¡ç†ã€çµå¸³æµç¨‹ã€è¨‚å–®æŸ¥è©¢
- **ğŸª Seller**: å•†å“ç®¡ç†ã€è¨‚å–®è™•ç†ã€éŠ·å”®çµ±è¨ˆ
- **âš™ï¸ Admin**: ç”¨æˆ¶ç®¡ç†ã€ç³»çµ±ç›£æ§ã€æ•¸æ“šçµ±è¨ˆ
- **ğŸ“‚ Category**: å•†å“åˆ†é¡ç®¡ç†ã€å±¤ç´šçµæ§‹
- **ğŸ¨ Variant**: å•†å“è®Šé«”ç®¡ç†ã€åº«å­˜æ§åˆ¶
- **â­ Review**: è©•åƒ¹ç®¡ç†ã€è©•åˆ†çµ±è¨ˆ
- **ğŸ’¬ Chat**: å³æ™‚èŠå¤©ã€æ¶ˆæ¯æ¨é€
- **ğŸ–¼ï¸ Image**: åœ–ç‰‡ä¸Šå‚³ã€å­˜å„²ç®¡ç†

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ğŸ“‹ ç’°å¢ƒè¦æ±‚
- **Node.js**: 18.0+ (æ¨è–¦ LTS ç‰ˆæœ¬)
- **PostgreSQL**: 15.0+ (ç”Ÿç”¢ç’°å¢ƒæ¨è–¦)
- **Redis**: 7.0+ (å¯é¸ï¼Œç”¨æ–¼å¿«å–)
- **Docker**: 20.0+ (å®¹å™¨åŒ–éƒ¨ç½²)
- **Git**: æœ€æ–°ç‰ˆæœ¬

### âš¡ ä¸€éµå•Ÿå‹• (Windows)
```powershell
# ğŸ¯ ä½¿ç”¨è‡ªå‹•åŒ–è…³æœ¬ï¼Œå®Œæˆç’°å¢ƒè¨­ç½®èˆ‡æ‡‰ç”¨å•Ÿå‹•
.\start-dev.bat

# ğŸ”„ é‡ç½®æ•¸æ“šåº«ä¸¦é‡æ–°å¡«å……æ¸¬è©¦æ•¸æ“š
.\seed.bat

# â¹ï¸ åœæ­¢æ‰€æœ‰æœå‹™
.\stop.bat
```

### ğŸ› ï¸ æ‰‹å‹•è¨­ç½®æ­¥é©Ÿ

#### 1. ğŸ“¥ å…‹éš†å°ˆæ¡ˆ
```bash
git clone <repository-url>
cd Mobile_Commerce_Final_Projec_Zipperoo
```

#### 2. ğŸ“¦ å®‰è£ä¾è³´
```bash
cd backend
npm install
```

#### 3. âš™ï¸ ç’°å¢ƒé…ç½®
è¤‡è£½ä¸¦é…ç½®ç’°å¢ƒè®Šæ•¸ï¼š
```bash
# è¤‡è£½ç’°å¢ƒé…ç½®ç¯„æœ¬
cp .env.example .env
```

`.env` é…ç½®èªªæ˜ï¼š
```env
# ğŸ—„ï¸ æ•¸æ“šåº«é…ç½®
DATABASE_URL="postgresql://zipperoo:zipperoo123@localhost:5433/zipperoo_db?schema=public"

# ğŸ” JWT é…ç½®
JWT_SECRET="your-super-secret-jwt-key-here"
JWT_EXPIRES_IN="24h"
REFRESH_JWT_SECRET="your-refresh-jwt-secret-here"
REFRESH_JWT_EXPIRES_IN="7d"

# ğŸŒ æœå‹™é…ç½®
PORT=3000
NODE_ENV="development"
CORS_ORIGIN="*"

# ğŸ“§ éƒµä»¶é…ç½® (å¯é¸)
MAIL_HOST="smtp.gmail.com"
MAIL_PORT=587
MAIL_USER="your-email@gmail.com"
MAIL_PASS="your-app-password"
```

#### 4. ğŸ³ å•Ÿå‹•åŸºç¤æœå‹™
```bash
# å•Ÿå‹• PostgreSQL å’Œ Redis
docker-compose up -d postgres redis

# æª¢æŸ¥æœå‹™ç‹€æ…‹
docker-compose ps
```

#### 5. ğŸ—„ï¸ æ•¸æ“šåº«åˆå§‹åŒ–
```bash
# é€²å…¥å¾Œç«¯ç›®éŒ„
cd backend

# ç”Ÿæˆ Prisma Client
npm run prisma:generate

# åŸ·è¡Œæ•¸æ“šåº«é·ç§»
npm run prisma:migrate

# å¡«å……æ¸¬è©¦æ•¸æ“š
npm run seed

# (å¯é¸) å•Ÿå‹•æ•¸æ“šåº«ç®¡ç†ç•Œé¢
npm run prisma:studio
```

#### 6. ğŸš€ å•Ÿå‹•æ‡‰ç”¨
```bash
# é–‹ç™¼æ¨¡å¼ (ç†±é‡è¼‰)
npm run start:dev

# ç”Ÿç”¢æ¨¡å¼
npm run build
npm run start:prod

# èª¿è©¦æ¨¡å¼
npm run start:debug
```

### ğŸ” æœå‹™é©—è­‰
- **ğŸŒ å¾Œç«¯ API**: http://localhost:3000
- **ğŸ§ª API æ¸¬è©¦ç•Œé¢**: http://localhost:3000/api-tester.html
- **â¤ï¸ å¥åº·æª¢æŸ¥**: http://localhost:3000/health
- **ğŸ—„ï¸ Prisma Studio**: http://localhost:5555
- **ğŸ“Š PostgreSQL**: localhost:5433
- **âš¡ Redis**: localhost:6379

## ğŸ§ª API æ¸¬è©¦å¹³å°

æœ¬å°ˆæ¡ˆå…§å»ºäº†ä¸€å€‹**ä¼æ¥­ç´š API æ¸¬è©¦å¹³å°**ï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ¶ç•Œé¢ä¾†æ¸¬è©¦æ‰€æœ‰ç³»çµ±åŠŸèƒ½ï¼š

### ğŸŒ è¨ªå•æ–¹å¼
**æ¸¬è©¦å¹³å°åœ°å€ï¼š** `http://localhost:3000/api-tester.html`

### âœ¨ å¹³å°ç‰¹è‰²
- ğŸ¨ **ç¾ä»£åŒ– UI**: éŸ¿æ‡‰å¼è¨­è¨ˆã€æ·±è‰²ä¸»é¡Œã€ç›´è§€æ“ä½œ
- ğŸ” **å®Œæ•´èªè­‰æµç¨‹**: è¨»å†Šã€ç™»å…¥ã€JWT è‡ªå‹•ç®¡ç†ã€Token åˆ·æ–°
- ğŸ›’ **å…¨å ´æ™¯è¦†è“‹**: æ¶µè“‹è²·å®¶ã€è³£å®¶ã€ç®¡ç†å“¡æ‰€æœ‰æ¥­å‹™æµç¨‹
- ğŸ“Š **å³æ™‚éŸ¿æ‡‰é¡¯ç¤º**: è©³ç´°çš„è«‹æ±‚/éŸ¿æ‡‰ä¿¡æ¯ã€ç‹€æ…‹ç¢¼ã€åŸ·è¡Œæ™‚é–“
- ğŸ”„ **è‡ªå‹•åŒ–æ¸¬è©¦**: æ”¯æ´æ‰¹é‡æ¸¬è©¦ã€æ•¸æ“šé‡ç½®ã€å¿«é€Ÿé©—è­‰
- ğŸ“± **è·¨å¹³å°å…¼å®¹**: æ”¯æ´æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æ©Ÿç€è¦½å™¨

### ğŸ‘¥ é è¨­æ¸¬è©¦å¸³è™Ÿ
ä½¿ç”¨ `npm run seed` å‘½ä»¤å‰µå»ºçš„æ¸¬è©¦å¸³è™Ÿï¼š

| è§’è‰² | å¸³è™Ÿ | å¯†ç¢¼ | åŠŸèƒ½ç¯„åœ |
|------|------|------|----------|
| ğŸ”§ **ç®¡ç†å“¡** | `admin` | `123456` | ç³»çµ±ç®¡ç†ã€ç”¨æˆ¶æ§åˆ¶ã€æ•¸æ“šçµ±è¨ˆ |
| ğŸª **è³£å®¶** | `seller` | `123456` | å•†å“ç®¡ç†ã€è¨‚å–®è™•ç†ã€å®¢æœèŠå¤© |
| ğŸ›’ **è²·å®¶** | `buyer` | `123456` | è³¼ç‰©æµç¨‹ã€è¨‚å–®æŸ¥è©¢ã€å•†å“è©•åƒ¹ |

### ğŸ¯ æ¨è–¦æ¸¬è©¦æµç¨‹

#### ğŸ›’ è²·å®¶æµç¨‹æ¸¬è©¦
```
1. ç™»å…¥è²·å®¶å¸³è™Ÿ (buyer/123456)
2. ç€è¦½å•†å“åˆ—è¡¨ â†’ æœå°‹å’Œç¯©é¸
3. æŸ¥çœ‹å•†å“è©³æƒ… â†’ æª¢è¦–è®Šé«”å’Œè©•åƒ¹
4. åŠ å…¥è³¼ç‰©è»Š â†’ èª¿æ•´æ•¸é‡å’Œé¸é …
5. åŸ·è¡Œçµå¸³ â†’ å®Œæˆè¨‚å–®å‰µå»º
6. æŸ¥çœ‹è¨‚å–® â†’ è¿½è¹¤è¨‚å–®ç‹€æ…‹
7. æ’°å¯«è©•åƒ¹ â†’ è©•åˆ†å’Œè©•è«–
8. å³æ™‚èŠå¤© â†’ èˆ‡è³£å®¶æºé€š
```

#### ğŸª è³£å®¶æµç¨‹æ¸¬è©¦
```
1. ç™»å…¥è³£å®¶å¸³è™Ÿ (seller/123456)
2. å‰µå»ºå•†å“ â†’ è¨­å®šåŸºæœ¬ä¿¡æ¯
3. æ·»åŠ è®Šé«” â†’ è¨­å®šé¡è‰²ã€å°ºå¯¸ã€åƒ¹æ ¼
4. ä¸Šå‚³åœ–ç‰‡ â†’ å•†å“å±•ç¤ºåœ–ç‰‡
5. ç®¡ç†è¨‚å–® â†’ è™•ç†è²·å®¶è¨‚å–®
6. å®¢æœèŠå¤© â†’ å›æ‡‰è²·å®¶è©¢å•
7. æŸ¥çœ‹çµ±è¨ˆ â†’ éŠ·å”®æ•¸æ“šåˆ†æ
```

#### ğŸ”§ ç®¡ç†å“¡æµç¨‹æ¸¬è©¦
```
1. ç™»å…¥ç®¡ç†å“¡å¸³è™Ÿ (admin/123456)
2. ç”¨æˆ¶ç®¡ç† â†’ æŸ¥çœ‹ã€å°é–ã€è§£é™¤å°é–
3. å•†å“ç®¡ç† â†’ å¯©æ ¸ã€åˆªé™¤å•†å“
4. è¨‚å–®ç›£æ§ â†’ æŸ¥çœ‹ç³»çµ±è¨‚å–®
5. ç³»çµ±æ—¥èªŒ â†’ è¿½è¹¤ç”¨æˆ¶æ“ä½œ
6. æ•¸æ“šçµ±è¨ˆ â†’ ç³»çµ±å¥åº·ç‹€æ³
```

### ğŸ”§ å¿«é€Ÿé‡ç½®ç’°å¢ƒ
```bash
# é‡ç½®æ•¸æ“šåº«ä¸¦é‡æ–°å¡«å……æ¸¬è©¦æ•¸æ“š
npm run db:reset

# æˆ–ä½¿ç”¨ Windows æ‰¹æ¬¡æª”
.\seed.bat
```

### ğŸ¨ æ¸¬è©¦å¹³å°ç•Œé¢é è¦½
- **ğŸ¯ åŠŸèƒ½åˆ†å€**: æŒ‰è§’è‰²å’ŒåŠŸèƒ½æ¨¡çµ„åˆ†é¡
- **ğŸ“ è«‹æ±‚ç·¨è¼¯å™¨**: JSON æ ¼å¼åŒ–ã€èªæ³•é«˜äº®
- **ğŸ“Š éŸ¿æ‡‰æª¢è¦–å™¨**: çµæ§‹åŒ–é¡¯ç¤ºã€éŒ¯èª¤çªå‡º
- **ğŸ” æœå°‹éæ¿¾**: å¿«é€Ÿå®šä½ API ç«¯é»
- **ğŸ’¾ è«‹æ±‚æ­·å²**: ä¿å­˜å¸¸ç”¨æ¸¬è©¦æ¡ˆä¾‹

## ğŸ³ Docker å®¹å™¨åŒ–éƒ¨ç½²

### ğŸš€ ä¸€éµéƒ¨ç½²
```bash
# å•Ÿå‹•å®Œæ•´çš„å¾®æœå‹™æ¶æ§‹
docker-compose up -d

# æŸ¥çœ‹æ‰€æœ‰æœå‹™ç‹€æ…‹
docker-compose ps

# å¯¦æ™‚æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# åœæ­¢æ‰€æœ‰æœå‹™
docker-compose down
```

### ğŸ—ï¸ æœå‹™æ¶æ§‹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Load Balancer                       â”‚
â”‚                    Nginx (Port 80)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                        â”‚
â”‚              NestJS Backend (Port 3000)                    â”‚
â”‚        â€¢ RESTful API  â€¢ WebSocket  â€¢ File Upload           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Data Layer                              â”‚
â”‚  PostgreSQL (Port 5433)     Redis (Port 6379)             â”‚
â”‚  â€¢ é—œè¯æ•¸æ“šå­˜å„²              â€¢ å¿«å–å’Œæœƒè©±                    â”‚
â”‚  â€¢ äº‹å‹™è™•ç†                  â€¢ å¯¦æ™‚æ•¸æ“š                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“Š æœå‹™ç«¯é»
| æœå‹™ | å…§éƒ¨ç«¯å£ | å¤–éƒ¨ç«¯å£ | æè¿° |
|------|----------|----------|------|
| **Nginx** | 80 | 80 | åå‘ä»£ç†ã€éœæ…‹è³‡æº |
| **Backend** | 3000 | 3000 | NestJS æ‡‰ç”¨ç¨‹å¼ |
| **PostgreSQL** | 5432 | 5433 | ä¸»æ•¸æ“šåº« |
| **Redis** | 6379 | 6379 | å¿«å–æœå‹™ |

### ğŸ”§ å®¹å™¨ç®¡ç†
```bash
# ğŸ” æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# ğŸ“Š æŸ¥çœ‹è³‡æºä½¿ç”¨
docker stats

# ğŸ—‚ï¸ æŸ¥çœ‹ç‰¹å®šæœå‹™æ—¥èªŒ
docker-compose logs backend
docker-compose logs postgres
docker-compose logs redis

# ğŸ”„ é‡å•Ÿç‰¹å®šæœå‹™
docker-compose restart backend

# ğŸ§¹ æ¸…ç†åœæ­¢çš„å®¹å™¨
docker-compose down --remove-orphans

# ğŸ—‘ï¸ å®Œå…¨æ¸…ç†ï¼ˆåŒ…å«æ•¸æ“šå·ï¼‰
docker-compose down -v
```

### ğŸ’¾ æ•¸æ“šæŒä¹…åŒ–
- **PostgreSQL**: `./data/postgres/` - æ•¸æ“šåº«æ–‡ä»¶
- **Redis**: `./data/redis/` - å¿«å–æ–‡ä»¶  
- **Uploads**: `./data/uploads/` - ç”¨æˆ¶ä¸Šå‚³æ–‡ä»¶

### ğŸš€ ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

#### ç’°å¢ƒé…ç½®
```bash
# è¨­ç½®ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
export NODE_ENV=production
export DATABASE_URL="postgresql://user:pass@prod-db:5432/db"
export JWT_SECRET="your-production-secret"
```

#### SSL é…ç½®
```nginx
# nginx.conf - HTTPS é…ç½®
server {
    listen 443 ssl;
    ssl_certificate /etc/ssl/certs/your-cert.pem;
    ssl_certificate_key /etc/ssl/private/your-key.pem;
    
    location / {
        proxy_pass http://backend:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### ç›£æ§èˆ‡å‚™ä»½
```bash
# æ•¸æ“šåº«å‚™ä»½
docker-compose exec postgres pg_dump -U zipperoo zipperoo_db > backup.sql

# æ¢å¾©æ•¸æ“šåº«
docker-compose exec -T postgres psql -U zipperoo zipperoo_db < backup.sql

# æŸ¥çœ‹å®¹å™¨å¥åº·ç‹€æ…‹
docker-compose exec backend curl http://localhost:3000/health
```

## ğŸ§ª æ¸¬è©¦èˆ‡å“è³ªä¿è­‰

### ğŸ¯ æ¸¬è©¦ç­–ç•¥
æœ¬å°ˆæ¡ˆæ¡ç”¨å¤šå±¤æ¬¡çš„æ¸¬è©¦ç­–ç•¥ï¼Œç¢ºä¿ä»£ç¢¼å“è³ªå’Œç³»çµ±ç©©å®šæ€§ï¼š

```
ğŸ—ï¸ æ¸¬è©¦é‡‘å­—å¡”
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   E2E Tests â”‚  â† å®Œæ•´æ¥­å‹™æµç¨‹æ¸¬è©¦
                     â”‚    (å°‘é‡)    â”‚
                 â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
                 â”‚  Integration Tests  â”‚  â† API ç«¯é»é›†æˆæ¸¬è©¦
                 â”‚      (é©é‡)        â”‚
             â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
             â”‚      Unit Tests            â”‚  â† å–®å…ƒé‚è¼¯æ¸¬è©¦
             â”‚        (å¤§é‡)              â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¬ å–®å…ƒæ¸¬è©¦
```bash
# åŸ·è¡Œæ‰€æœ‰å–®å…ƒæ¸¬è©¦
npm run test

# ç›£è½æ¨¡å¼ï¼ˆé–‹ç™¼æ™‚ä½¿ç”¨ï¼‰
npm run test:watch

# ç”Ÿæˆæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
npm run test:cov

# èª¿è©¦æ¨¡å¼
npm run test:debug
```

**æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™**: > 85%
- Services: > 90%
- Controllers: > 80%  
- DTOs: > 75%

### ğŸ”— é›†æˆæ¸¬è©¦
```bash
# åŸ·è¡Œ E2E æ¸¬è©¦
npm run test:e2e

# æŒ‡å®šæ¸¬è©¦æ–‡ä»¶
npm run test:e2e -- auth.e2e-spec.ts
```

### ğŸ­ æ¸¬è©¦å ´æ™¯è¦†è“‹

#### ğŸ” èªè­‰æµç¨‹æ¸¬è©¦
```typescript
describe('Authentication Flow', () => {
  it('ç”¨æˆ¶è¨»å†Š â†’ ç™»å…¥ â†’ ç²å–è³‡æ–™ â†’ ç™»å‡º');
  it('JWT Token é©—è­‰å’Œåˆ·æ–°');
  it('å¯†ç¢¼é‡è¨­æµç¨‹');
  it('æ¬Šé™æ§åˆ¶å’Œè§’è‰²é©—è­‰');
});
```

#### ğŸ›’ é›»å•†æ ¸å¿ƒæµç¨‹æ¸¬è©¦
```typescript
describe('E-commerce Core Flow', () => {
  it('å•†å“å‰µå»º â†’ è®Šé«”ç®¡ç† â†’ åœ–ç‰‡ä¸Šå‚³');
  it('å•†å“ç€è¦½ â†’ æœå°‹ç¯©é¸ â†’ è©³æƒ…æŸ¥çœ‹');
  it('åŠ å…¥è³¼ç‰©è»Š â†’ æ•¸é‡èª¿æ•´ â†’ çµå¸³æµç¨‹');
  it('è¨‚å–®å‰µå»º â†’ ç‹€æ…‹è¿½è¹¤ â†’ å®Œæˆè©•åƒ¹');
});
```

#### ğŸ’¬ å³æ™‚åŠŸèƒ½æ¸¬è©¦
```typescript
describe('Real-time Features', () => {
  it('WebSocket é€£æ¥å’Œæ–·é–‹');
  it('èŠå¤©å®¤å‰µå»ºå’Œè¨Šæ¯ç™¼é€');
  it('å¤šç”¨æˆ¶åŒæ™‚èŠå¤©');
  it('è¨Šæ¯æ­·å²å’Œç‹€æ…‹åŒæ­¥');
});
```

### ğŸ“Š æ¸¬è©¦å ±å‘Š
```bash
# ç”Ÿæˆè©³ç´°çš„æ¸¬è©¦å ±å‘Š
npm run test:cov -- --coverageReporters=html

# æŸ¥çœ‹å ±å‘Šï¼ˆç”Ÿæˆåœ¨ coverage/ ç›®éŒ„ï¼‰
# æ‰“é–‹ coverage/lcov-report/index.html
```

## ğŸ“„ API æ–‡ä»¶èˆ‡è¨­è¨ˆ

### ğŸ“š API æ–‡æª”ç”Ÿæˆ
- ä½¿ç”¨ `@nestjs/swagger` è‡ªå‹•ç”Ÿæˆ API æ–‡æª”
- æ–‡æª”è·¯å¾‘ï¼š`/api/docs`

### ğŸ¨ API æ–‡ä»¶ç¯„æœ¬
```typescript
/**
 * @swagger
 * tags:
 *   - name: Auth
 *     description: ç”¨æˆ¶èªè­‰ç›¸é—œæ“ä½œ
 */

/**
 * @swagger
 * /api/v1/auth/register:
 *   post:
 *     tags: [Auth]
 *     summary: ç”¨æˆ¶è¨»å†Š
 *     requestBody:
 *       required: true
 *       content:
 *         application/json:
 *           schema:
 *             type: object
 *             properties:
 *               account:
 *                 type: string
 *                 example: buyer
 *               password:
 *                 type: string
 *                 example: 123456
 *               email:
 *                 type: string
 *                 example: buyer@example.com
 *     responses:
 *       201:
 *         description: è¨»å†ŠæˆåŠŸ
 *       400:
 *         description: è«‹æ±‚åƒæ•¸éŒ¯èª¤
 *       409:
 *         description: ç”¨æˆ¶å·²å­˜åœ¨
 */
```

### ğŸ”„ API ç‰ˆæœ¬ç®¡ç†
- ä½¿ç”¨è·¯ç”±ç‰ˆæœ¬æ§åˆ¶ï¼Œä¿æŒå‘å¾Œç›¸å®¹æ€§
- ç›®å‰ç‰ˆæœ¬ï¼š`v1`

### ğŸ“¦ API æ¸¬è©¦å·¥å…·æ•´åˆ
- é›†æˆ Postman å’Œ Swagger UI é€²è¡Œ API æ¸¬è©¦
- æä¾›æ¸¬è©¦ç”¨çš„ Postman é›†åˆå’Œç’°å¢ƒè®Šæ•¸æ–‡ä»¶

## ğŸ†˜ æ•…éšœæ’é™¤æŒ‡å—

### ğŸ”§ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

#### ğŸ—„ï¸ è³‡æ–™åº«é€£ç·šå•é¡Œ
```bash
# å•é¡Œï¼šDatabase connection failed
# åŸå› ï¼šPostgreSQL æœå‹™æœªå•Ÿå‹•æˆ–é…ç½®éŒ¯èª¤

# è§£æ±ºæ­¥é©Ÿï¼š
# 1. æª¢æŸ¥å®¹å™¨ç‹€æ…‹
docker-compose ps

# 2. æŸ¥çœ‹è³‡æ–™åº«æ—¥èªŒ
docker-compose logs postgres

# 3. æª¢æŸ¥é€£ç·šé…ç½®
echo $DATABASE_URL

# 4. æ¸¬è©¦é€£ç·š
docker-compose exec postgres psql -U zipperoo zipperoo_db -c "SELECT 1;"

# 5. é‡å•Ÿè³‡æ–™åº«æœå‹™
docker-compose restart postgres
```

#### ğŸ” JWT èªè­‰å¤±æ•—
```bash
# å•é¡Œï¼šJWT verification failed
# åŸå› ï¼šToken éæœŸæˆ– JWT_SECRET ä¸åŒ¹é…

# è§£æ±ºæ­¥é©Ÿï¼š
# 1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
echo $JWT_SECRET

# 2. é‡æ–°ç™»å…¥ç²å–æ–° Token
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"account":"buyer","password":"123456"}'

# 3. æª¢æŸ¥ç³»çµ±æ™‚é–“æ˜¯å¦æ­£ç¢º
date
```

#### ğŸŒ WebSocket é€£ç·šå•é¡Œ
```bash
# å•é¡Œï¼šWebSocket connection failed
# åŸå› ï¼šCORS é…ç½®æˆ–é˜²ç«ç‰†é˜»æ“‹

# è§£æ±ºæ­¥é©Ÿï¼š
# 1. æª¢æŸ¥ CORS è¨­å®š
echo $CORS_ORIGIN

# 2. æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
netstat -an | findstr :3000
```

#### ğŸ“¦ Node.js æ¨¡çµ„éŒ¯èª¤
```powershell
# å•é¡Œï¼šModule not found or version conflict
# åŸå› ï¼šä¾è³´ç‰ˆæœ¬ä¸åŒ¹é…æˆ–å®‰è£ä¸å®Œæ•´

# è§£æ±ºæ­¥é©Ÿï¼š
cd backend

# 1. æ¸…ç† node_modules
Remove-Item -Recurse -Force node_modules
Remove-Item package-lock.json

# 2. é‡æ–°å®‰è£ä¾è³´
npm install

# 3. æª¢æŸ¥ Node.js ç‰ˆæœ¬
node --version  # æ‡‰è©² >= 18.0.0

# 4. æ¸…ç† npm å¿«å–
npm cache clean --force
```

### ğŸ” è¨ºæ–·å·¥å…·

#### ç³»çµ±å¥åº·æª¢æŸ¥è…³æœ¬
```powershell
# health-check.ps1
function Test-ZipperooSystem {
    Write-Host "ğŸ” Zipperoo ç³»çµ±è¨ºæ–·" -ForegroundColor Cyan
    
    # æª¢æŸ¥ Docker æœå‹™
    try {
        docker --version | Out-Null
        Write-Host "âœ… Docker æœå‹™æ­£å¸¸" -ForegroundColor Green
    } catch {
        Write-Host "âŒ Docker æœå‹™ç•°å¸¸" -ForegroundColor Red
    }
    
    # æª¢æŸ¥ API ç«¯é»
    try {
        $response = Invoke-RestMethod -Uri "http://localhost:3000/health" -TimeoutSec 5
        Write-Host "âœ… API æœå‹™æ­£å¸¸" -ForegroundColor Green
    } catch {
        Write-Host "âŒ API æœå‹™ç•°å¸¸: $($_.Exception.Message)" -ForegroundColor Red
    }
}

Test-ZipperooSystem
```

#### ç–‘é›£æ’è§£æª¢æŸ¥æ¸…å–®
- [ ] Docker Desktop å·²å•Ÿå‹•ä¸¦é‹è¡Œ
- [ ] ç«¯å£ 3000, 5433, 6379 æœªè¢«å ç”¨
- [ ] `.env` æ–‡ä»¶å·²æ­£ç¢ºé…ç½®
- [ ] è‡³å°‘ 4GB å¯ç”¨è¨˜æ†¶é«”
- [ ] `/health` ç«¯é»å›æ‡‰æ­£å¸¸
- [ ] API å¹³å‡éŸ¿æ‡‰æ™‚é–“ < 200ms

## ğŸ¤ é–‹ç™¼è¦ç¯„èˆ‡æœ€ä½³å¯¦è¸

### ğŸ“ ä»£ç¢¼é¢¨æ ¼è¦ç¯„

#### TypeScript ç·¨ç¢¼æ¨™æº–
```typescript
// âœ… æ¨è–¦çš„ä»£ç¢¼é¢¨æ ¼
export class ProductService {
  constructor(
    private readonly prisma: PrismaService,
    private readonly logger: Logger
  ) {}

  async createProduct(dto: CreateProductDto): Promise<ProductResponseDto> {
    this.logger.log(`Creating product: ${dto.name}`);
    
    try {
      const product = await this.prisma.product.create({
        data: {
          name: dto.name,
          description: dto.description,
          sellerId: dto.sellerId,
          categoryId: dto.categoryId,
          status: ProductStatus.ON_SHELF
        },
        include: {
          seller: { select: { username: true, shopName: true } },
          category: { select: { name: true } },
          variants: true,
          images: true
        }
      });

      return this.transformToResponseDto(product);
    } catch (error) {
      this.logger.error(`Failed to create product: ${error.message}`, error.stack);
      throw new BadRequestException('å•†å“å‰µå»ºå¤±æ•—');
    }
  }
}
```

#### å‘½åè¦ç¯„
| é¡å‹ | å‘½åè¦å‰‡ | ç¯„ä¾‹ |
|------|----------|------|
| **é¡åˆ¥** | PascalCase | `ProductService`, `UserController` |
| **æ–¹æ³•** | camelCase | `createProduct()`, `getUserById()` |
| **è®Šæ•¸** | camelCase | `productId`, `userEmail` |
| **å¸¸æ•¸** | UPPER_SNAKE_CASE | `JWT_SECRET`, `DEFAULT_PAGE_SIZE` |
| **DTO** | PascalCase + å¾Œç¶´ | `CreateProductDto`, `ProductResponseDto` |

### ğŸ”„ Git å·¥ä½œæµç¨‹

#### åˆ†æ”¯ç­–ç•¥
```bash
# ä¸»è¦åˆ†æ”¯
main          # ç”Ÿç”¢ç’°å¢ƒåˆ†æ”¯
develop       # é–‹ç™¼ç’°å¢ƒåˆ†æ”¯

# åŠŸèƒ½åˆ†æ”¯
feature/auth-system
feature/product-management
feature/chat-system

# ä¿®å¾©åˆ†æ”¯
hotfix/security-patch
bugfix/cart-calculation
```

#### æäº¤è¨Šæ¯è¦ç¯„
```bash
# æ ¼å¼: <type>(<scope>): <description>

# åŠŸèƒ½é–‹ç™¼
feat(auth): add JWT refresh token mechanism
feat(product): implement product variant management

# éŒ¯èª¤ä¿®å¾©
fix(cart): resolve quantity calculation issue
fix(auth): handle expired token edge case

# é‡æ§‹
refactor(database): optimize product query performance
refactor(api): standardize error response format

# æ–‡æª”æ›´æ–°
docs(readme): update API documentation
docs(api): add request/response examples

# æ¸¬è©¦
test(auth): add unit tests for JWT service
test(e2e): add checkout flow integration test
```

### ğŸ§ª æ¸¬è©¦ç­–ç•¥

#### æ¸¬è©¦è¦†è“‹ç‡è¦æ±‚
- **æ•´é«”è¦†è“‹ç‡**: â‰¥ 85%
- **Services**: â‰¥ 90%
- **Controllers**: â‰¥ 80%
- **é—œéµæ¥­å‹™é‚è¼¯**: 100%

#### æ•ˆèƒ½å„ªåŒ–æŒ‡å—
```typescript
// âœ… å„ªåŒ–å¾Œçš„æŸ¥è©¢
async getProductsWithFilters(filters: ProductFiltersDto) {
  return this.prisma.product.findMany({
    where: {
      AND: [
        { status: ProductStatus.ON_SHELF },
        filters.categoryId && { categoryId: filters.categoryId },
        filters.searchTerm && {
          name: { contains: filters.searchTerm, mode: 'insensitive' }
        }
      ].filter(Boolean)
    },
    include: {
      variants: { select: { price: true, stock: true } },
      images: { select: { url: true }, take: 1 }
    },
    orderBy: { createdAt: 'desc' },
    skip: (filters.page - 1) * filters.limit,
    take: filters.limit
  });
}
```

## ğŸ“… ç‰ˆæœ¬æ›´æ–°æ—¥èªŒ

### v1.0.0 (2025-06-11) - åˆå§‹ç™¼å¸ƒ ğŸ‰
#### âœ¨ æ–°åŠŸèƒ½
- **ğŸ” å®Œæ•´èªè­‰ç³»çµ±**: JWT é›™ Token æ©Ÿåˆ¶ã€å¯†ç¢¼é‡è¨­ã€å¤šè§’è‰²æ¬Šé™
- **ğŸ›ï¸ é›»å•†æ ¸å¿ƒåŠŸèƒ½**: å•†å“ç®¡ç†ã€è³¼ç‰©è»Šã€è¨‚å–®æµç¨‹ã€åº«å­˜æ§åˆ¶
- **ğŸ¨ å•†å“è®Šé«”ç³»çµ±**: æ”¯æ´é¡è‰²ã€å°ºå¯¸ç­‰å¤šå±¬æ€§çµ„åˆç®¡ç†
- **â­ è©•åƒ¹ç³»çµ±**: å•†å“è©•åˆ†ã€è©•è«–ç®¡ç†ã€è»Ÿåˆªé™¤æ©Ÿåˆ¶
- **ğŸ’¬ å³æ™‚èŠå¤©**: WebSocket å¯¦ç¾è²·è³£å®¶å³æ™‚æºé€š
- **ğŸ–¼ï¸ åœ–ç‰‡ç®¡ç†**: å¤šåœ–ç‰‡ä¸Šå‚³ã€å­˜å„²ã€CDN åˆ†ç™¼
- **ğŸ”§ ç®¡ç†å“¡å¾Œå°**: ç”¨æˆ¶ç®¡ç†ã€å•†å“å¯©æ ¸ã€ç³»çµ±ç›£æ§
- **ğŸ§ª API æ¸¬è©¦å¹³å°**: å…§å»º Web ç•Œé¢ï¼Œå®Œæ•´åŠŸèƒ½æ¸¬è©¦
- **ğŸ³ Docker å®¹å™¨åŒ–**: ä¸€éµéƒ¨ç½²ï¼ŒåŒ…å« PostgreSQLã€Redisã€Nginx

#### ğŸ—ï¸ æŠ€è¡“ç‰¹è‰²
- **ä¸‰å±¤å¼æ¶æ§‹**: Presentationã€Businessã€Data å±¤åˆ†é›¢
- **ä¼æ¥­ç´šå®‰å…¨**: OWASP æ¨™æº–ã€GDPR åˆè¦ã€å®Œæ•´å¯©è¨ˆæ—¥èªŒ
- **é«˜æ•ˆèƒ½è¨­è¨ˆ**: æŸ¥è©¢å„ªåŒ–ã€Redis å¿«å–ã€é€£æ¥æ± ç®¡ç†
- **å®Œæ•´æ¸¬è©¦**: 85%+ è¦†è“‹ç‡ã€E2E æ¸¬è©¦ã€æ•ˆèƒ½æ¸¬è©¦
- **ç›£æ§å‘Šè­¦**: å¥åº·æª¢æŸ¥ã€æŒ‡æ¨™ç›£æ§ã€ç•°å¸¸å‘Šè­¦

#### ğŸ“Š æ ¸å¿ƒæŒ‡æ¨™
- **âš¡ API éŸ¿æ‡‰æ™‚é–“**: < 200ms (å¹³å‡)
- **ğŸ§ª æ¸¬è©¦è¦†è“‹ç‡**: 85%+ (ç›®æ¨™ 90%+)
- **ğŸ” å®‰å…¨è©•ç´š**: A+ (OWASP æ¨™æº–)
- **ğŸ“± æ”¯æ´è«‹æ±‚**: 1000+ req/min
- **ğŸ’¾ è³‡æ–™ä¸€è‡´æ€§**: ACID äº‹å‹™ä¿è­‰

### ğŸ”„ æœªä¾†è¦åŠƒ (v1.1.0)
- **ğŸ“± ç§»å‹•ç«¯ API**: å„ªåŒ–ç§»å‹•æ‡‰ç”¨æ”¯æ´
- **ğŸ” æ™ºèƒ½æœå°‹**: Elasticsearch æ•´åˆã€AI æ¨è–¦
- **ğŸ’³ æ”¯ä»˜æ•´åˆ**: å¤šç¨®æ”¯ä»˜æ–¹å¼ã€è‡ªå‹•å°å¸³
- **ğŸ“Š å•†æ¥­æ™ºèƒ½**: éŠ·å”®åˆ†æã€ç”¨æˆ¶è¡Œç‚ºè¿½è¹¤
- **ğŸŒ åœ‹éš›åŒ–**: å¤šèªè¨€ã€å¤šè²¨å¹£æ”¯æ´
- **ğŸš€ å¾®æœå‹™**: æœå‹™æ‹†åˆ†ã€API Gateway

## ğŸ“ æŠ€è¡“æ”¯æ´èˆ‡ç¤¾ç¾¤

### ğŸ†˜ ç²å¾—å¹«åŠ©

#### ğŸ” è‡ªåŠ©æœå‹™
1. **ğŸ“– æŸ¥é–±æ–‡æª”**: é¦–å…ˆæª¢æŸ¥æœ¬ README å’Œ SystemDesign æ–‡æª”
2. **â“ å¸¸è¦‹å•é¡Œ**: åƒè€ƒ [æ•…éšœæ’é™¤æŒ‡å—](#æ•…éšœæ’é™¤æŒ‡å—)
3. **ğŸ§ª æ¸¬è©¦å·¥å…·**: ä½¿ç”¨å…§å»º API æ¸¬è©¦å¹³å°é©—è­‰åŠŸèƒ½
4. **ğŸ“Š å¥åº·æª¢æŸ¥**: è¨ªå• `/health` ç«¯é»æª¢æŸ¥ç³»çµ±ç‹€æ…‹

#### ğŸ’¬ ç¤¾ç¾¤æ”¯æ´
- **ğŸ“§ æŠ€è¡“è«®è©¢**: [zipperoo-support@example.com](mailto:zipperoo-support@example.com)
- **ğŸ› Bug å›å ±**: ä½¿ç”¨ GitHub Issues æäº¤å•é¡Œ
- **ğŸ’¡ åŠŸèƒ½å»ºè­°**: é€šé GitHub Discussions åˆ†äº«æƒ³æ³•
- **ğŸ“š æŠ€è¡“æ–‡æª”**: æŸ¥çœ‹ SystemDesign ç›®éŒ„ä¸­çš„è©³ç´°æ–‡æª”

#### ğŸ¤ è²¢ç»æŒ‡å—
1. **ğŸ´ Fork å°ˆæ¡ˆ**: å‰µå»ºå°ˆæ¡ˆåˆ†æ”¯
2. **ğŸŒ¿ å‰µå»ºåˆ†æ”¯**: `git checkout -b feature/amazing-feature`
3. **ğŸ’» ç·¨å¯«ä»£ç¢¼**: éµå¾ªç·¨ç¢¼è¦ç¯„å’Œæ¸¬è©¦è¦æ±‚
4. **ğŸ§ª é‹è¡Œæ¸¬è©¦**: ç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
5. **ğŸ“ æäº¤è®Šæ›´**: `git commit -m 'feat: add amazing feature'`
6. **ğŸš€ æ¨é€åˆ†æ”¯**: `git push origin feature/amazing-feature`
7. **ğŸ”„ å‰µå»º PR**: æäº¤ Pull Request ç­‰å¾…å¯©æ ¸

### ğŸ“‹ æˆæ¬Šè³‡è¨Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ **MIT æˆæ¬Šæ¢æ¬¾**ï¼Œå…è¨±è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†ç™¼ã€‚

---

<div align="center">

### ğŸ¯ Made with â¤ï¸ by Zipperoo Team

**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ Starï¼**

[![GitHub stars](https://img.shields.io/github/stars/zipperoo/backend?style=social)](https://github.com/Damian-Hsu/Mobile_Commerce_Final_Projec_Zipperoo/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/zipperoo/backend?style=social)](https://github.com/Damian-Hsu/Mobile_Commerce_Final_Projec_Zipperoo/network/members)
[![GitHub issues](https://img.shields.io/github/issues/zipperoo/backend)](https://github.com/Damian-Hsu/Mobile_Commerce_Final_Projec_Zipperoo/backend/issues)
[![GitHub license](https://img.shields.io/github/license/zipperoo/backend)](https://github.com/Damian-Hsu/Mobile_Commerce_Final_Projec_Zipperoo/blob/main/LICENSE)

**ğŸš€ æ‰“é€ ä¸‹ä¸€ä»£é›»å•†å¹³å°ï¼Œè®“å•†æ¥­æ›´ç°¡å–®ï¼**

</div>